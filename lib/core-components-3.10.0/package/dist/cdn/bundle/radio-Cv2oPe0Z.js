"use strict";var t=require("tslib"),e=require("@microsoft/fast-web-utilities"),r=require("./form-associated-DSP-KUNe.js"),i=require("./fast-element-DOTfrYFb.js"),o=require("./string-helpers-BBo17rr2.js");class a extends i.FASTElement{}class d extends(r.CheckableFormAssociated(a)){constructor(){super(...arguments),this.proxy=document.createElement("input")}}class s extends d{get radioGroup(){return this.closest("[role=radiogroup]")}defaultCheckedChanged(){var t;this.$fastController.isConnected&&!this.dirtyChecked&&(this.isInsideRadioGroup()||(this.checked=null!==(t=this.defaultChecked)&&void 0!==t&&t,this.dirtyChecked=!1))}constructor(){super(),this.initialValue="on",this.readOnly=!1,this.tabIndexProp=-1,this.tabIndexAttr=null,this.proxy.setAttribute("type","radio")}connectedCallback(){var t,e;super.connectedCallback(),this.validate(),"radiogroup"!==(null===(t=this.parentElement)||void 0===t?void 0:t.getAttribute("role"))&&null===this.getAttribute("tabindex")&&(this.disabled||this.setAttribute("tabindex","0")),this.checkedAttribute&&(this.dirtyChecked||this.isInsideRadioGroup()||(this.checked=null!==(e=this.defaultChecked)&&void 0!==e&&e,this.dirtyChecked=!1))}isInsideRadioGroup(){return null!==this.radioGroup}keypressHandler(t){var r;if(t.key!==e.keySpace)return!0;this.checked||(null===(r=this.radioGroup)||void 0===r?void 0:r.readOnly)||(this.checked=!0)}get internalId(){return this.id||"control"}get ariaLabelledbyIds(){var t;return o.concatLabelIds(this.id,{label:!!(null===(t=this.defaultSlottedNodes)||void 0===t?void 0:t.length)})}get tabIndex(){return this.tabIndexProp}set tabIndex(t){const e="number"==typeof t?t:parseInt(null!=t?t:"",10);this.tabIndexProp=isNaN(e)?-1:e,this.tabIndexAttr=isNaN(e)?null:String(t)}setAttribute(t,e){if("tabindex"===t){const t=parseInt(null!=e?e:"",10);return this.tabIndexProp=isNaN(t)?-1:t,void(this.tabIndexAttr=e)}super.setAttribute(t,e)}removeAttribute(t){if("tabindex"===t)return this.tabIndexProp=-1,void(this.tabIndexAttr=null);super.removeAttribute(t)}getAttribute(t){return"tabindex"===t?this.tabIndexAttr:super.getAttribute(t)}hasAttribute(t){return"tabindex"===t?null!==this.tabIndexAttr:super.hasAttribute(t)}focus(){var t,e;null===(e=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("input"))||void 0===e||e.focus()}getInputEl(){var t;return null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector("input")}clickHandler(t){this.readOnly?t.stopImmediatePropagation():this.checked||(this.checked=!0)}}t.__decorate([i.observable],s.prototype,"name",void 0),t.__decorate([i.observable],s.prototype,"defaultSlottedNodes",void 0),t.__decorate([i.attr({attribute:"readonly",mode:"boolean"})],s.prototype,"readOnly",void 0),t.__decorate([i.attr],s.prototype,"id",void 0),t.__decorate([i.attr({attribute:"a11y-aria-description"})],s.prototype,"a11yAriaDescription",void 0),t.__decorate([i.attr({attribute:"a11y-aria-label"})],s.prototype,"a11yAriaLabel",void 0),t.__decorate([i.volatile],s.prototype,"ariaLabelledbyIds",null),t.__decorate([i.observable],s.prototype,"tabIndexProp",void 0),t.__decorate([i.observable],s.prototype,"tabIndexAttr",void 0),exports.Radio=s;
