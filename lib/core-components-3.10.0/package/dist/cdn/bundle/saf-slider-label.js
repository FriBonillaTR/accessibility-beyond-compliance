"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var i=require("@saffron/config"),t=require("tslib"),e=require("@microsoft/fast-web-utilities"),o=require("./slider-BGv-QfaU.js"),r=require("./fast-element-DOTfrYFb.js"),s=require("./ref-BeTe_0iT.js"),a=require("./when-0aDJpnLk.js");require("./form-associated-DSP-KUNe.js"),require("./direction-CkR1Fynu.js");const n={min:0,max:0,direction:e.Direction.ltr,orientation:e.Orientation.horizontal};class l extends r.FASTElement{constructor(){super(...arguments),this.hideMark=!1,this.orientation=e.Orientation.horizontal,this.sliderDirection=e.Direction.ltr,this.getSliderConfiguration=()=>{if(this.isSliderConfig(this.parentNode)){const i=this.parentNode,{min:t,max:o,direction:r,orientation:s,disabled:a}=i;void 0!==a&&(this.disabled=a),this.sliderDirection=r||e.Direction.ltr,this.orientation=s||e.Orientation.horizontal,this.sliderMaxPosition=o,this.sliderMinPosition=t}else this.sliderDirection=n.direction||e.Direction.ltr,this.orientation=n.orientation||e.Orientation.horizontal,this.sliderMaxPosition=n.max,this.sliderMinPosition=n.min},this.positionAsStyle=()=>{const i=this.sliderDirection?this.sliderDirection:e.Direction.ltr,t=o.Slider.convertPixelToPercent(Number(this.position),Number(this.sliderMinPosition),Number(this.sliderMaxPosition));let r=Math.round(100*(1-t)),s=Math.round(100*t);return Number.isNaN(s)&&Number.isNaN(r)&&(r=50,s=50),this.orientation===e.Orientation.horizontal?i===e.Direction.rtl?`right: ${s}%; left: ${r}%;`:`left: ${s}%; right: ${r}%;`:`top: ${r}%; bottom: ${s}%;`}}positionChanged(){this.positionStyle=this.positionAsStyle()}connectedCallback(){super.connectedCallback(),this.getSliderConfiguration(),this.positionStyle=this.positionAsStyle(),this.notifier=r.Observable.getNotifier(this.parentNode),this.notifier.subscribe(this,"direction"),this.notifier.subscribe(this,"max"),this.notifier.subscribe(this,"min")}disconnectedCallback(){super.disconnectedCallback(),this.notifier.unsubscribe(this,"direction"),this.notifier.unsubscribe(this,"max"),this.notifier.unsubscribe(this,"min")}handleChange(i,t){switch(t){case"direction":this.sliderDirection=i.direction;break;case"max":this.sliderMaxPosition=i.max;break;case"min":this.sliderMinPosition=i.min}this.positionStyle=this.positionAsStyle()}isSliderConfig(i){return void 0!==i.max&&void 0!==i.min}}t.__decorate([r.observable],l.prototype,"positionStyle",void 0),t.__decorate([r.attr],l.prototype,"position",void 0),t.__decorate([r.attr({attribute:"hide-mark",mode:"boolean"})],l.prototype,"hideMark",void 0),t.__decorate([r.attr({attribute:"disabled",mode:"boolean"})],l.prototype,"disabled",void 0),t.__decorate([r.observable],l.prototype,"orientation",void 0),t.__decorate([r.observable],l.prototype,"sliderMinPosition",void 0),t.__decorate([r.observable],l.prototype,"sliderMaxPosition",void 0),t.__decorate([r.observable],l.prototype,"sliderDirection",void 0);exports.default=()=>l.define({name:i.getComponentName("saf-slider-label"),template:r.html`
		<template aria-disabled="${i=>i.disabled}" orientation="${i=>i.orientation}">
			<div ${s.ref("root")} part="root" class="root" style="${i=>i.positionStyle}">
				<div class="container">
					${a.when(i=>!i.hideMark,r.html` <div class="mark"></div> `)}
					<div class="label">
						<slot></slot>
					</div>
				</div>
			</div>
		</template>
	`,styles:r.css`
	${i.replaceComponentNamesWithSafAttribute(":host{--saf-slider-thumb-size: 32;--saf-slider-height: 40;color:var(--saf-color-text-heavy);display:inline-block;fill:currentcolor;font:var(--saf-type-body-default-md-regular-standard)}.root{display:grid;position:absolute}.container{display:grid;justify-self:center}.label{max-width:30px;place-self:center center;white-space:nowrap}.mark{background:var(--saf-color-border-stronger);height:16px;justify-self:center;width:2px}:host([aria-disabled=true]){color:var(--saf-color-interactive-disabled-strong)}:host([orientation=horizontal]){align-self:start;grid-row:2;height:calc((var(--saf-slider-height)/2 + 4)*1px);margin-top:-2px;width:auto}:host([orientation=horizontal]) .container{grid-template-columns:0;grid-template-rows:auto auto}:host([orientation=horizontal]) .label{margin:2px 0}:host([orientation=vertical]){grid-column:2;height:auto;justify-self:start;margin-left:2px;width:calc((var(--saf-slider-height)/2 + 4)*1px)}:host([orientation=vertical]) .container{grid-template-columns:auto auto;grid-template-rows:0;height:calc(var(--saf-slider-thumb-size)*1px);min-width:calc(var(--saf-slider-thumb-size)*1px)}:host([orientation=vertical]) .mark{align-self:center;transform:rotate(90deg)}:host([orientation=vertical]) .label{align-self:center;margin-left:16px}")}
`,registry:i.getRegistry()});
