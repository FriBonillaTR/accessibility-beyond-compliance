"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var a=require("@saffron/config"),t=require("./define-CgQAavGn.js"),e=require("./saf-icon.js"),o=require("./saf-sr-only.js"),r=require("tslib"),n=require("./a11y-DvNZtvTj.js"),s=require("./global-enums-58U8enSy.js"),i=require("./fast-element-DOTfrYFb.js"),l=require("./when-0aDJpnLk.js");require("./apply-mixins-CewQe2EQ.js"),require("./start-end-template-D7dQJgd3.js"),require("./ref-BeTe_0iT.js"),require("./aria-global-CYzDgx1a.js"),require("./form-associated-DSP-KUNe.js"),require("@microsoft/fast-web-utilities"),require("./slotted-cZBT0SIc.js"),require("./logger-vjs750p7.js");const c="inline";class d extends i.FASTElement{constructor(){super(...arguments),this.alertType=c,this.iconPresentation=!1,this.afterDelay=!1,this.isHidden=!1,this.density=s.ComponentDensityEnum.inherit,this.announce=!0,this.hideCloseButton=!1}close(a){a>0?(setTimeout(()=>this.addClosingClass(),1e3*a-250),setTimeout(()=>{this.$emit("close",null,{bubbles:!1})},1e3*a)):(this.addClosingClass(),setTimeout(()=>{this.$emit("close",null,{bubbles:!1})},250))}get icon(){switch(this.appearance){case"informational":default:return{color:"var(--saf-color-status-information-strong)",iconName:"circle-info",iconLabel:"Information"};case"success":return{color:"var(--saf-color-status-success-strong)",iconName:"circle-check",iconLabel:"Success"};case"warning":return{color:"var(--saf-color-status-warning-strong)",iconName:"triangle-exclamation",iconLabel:"Warning"};case"error":return{color:"var(--saf-color-status-error-strong)",iconName:"hexagon-exclamation",iconLabel:"Error"};case"neutral":return{color:"var(--saf-color-status-neutral-strong)",iconName:"circle-info",iconLabel:"Neutral"}}}get iconAriaLabelComputed(){var a;return this.iconPresentation?null:null!==(a=this.iconAriaLabel)&&void 0!==a?a:this.icon.iconLabel}addClosingClass(){this.classList.add("closing"),setTimeout(()=>this.isHidden=!0,250)}connectedCallback(){super.connectedCallback(),this.announce&&this.announceContent()}announceContent(){var a,t;const e="error"===this.appearance||"warning"===this.appearance?"alert":"status",o=`${null===(t=null===(a=this.shadowRoot)||void 0===a?void 0:a.querySelector(".alert-icon"))||void 0===t?void 0:t.getAttribute("aria-label")} ${this.innerText}`;n.SafA11y.announce(o.trim(),e)}}r.__decorate([i.attr],d.prototype,"appearance",void 0),r.__decorate([i.attr({attribute:"alert-type"})],d.prototype,"alertType",void 0),r.__decorate([i.attr({attribute:"icon-aria-label"}),i.observable],d.prototype,"iconAriaLabel",void 0),r.__decorate([i.attr({attribute:"icon-presentation",mode:"boolean"})],d.prototype,"iconPresentation",void 0),r.__decorate([i.attr({attribute:"close-aria-label"}),i.observable],d.prototype,"closeAriaLabel",void 0),r.__decorate([i.attr],d.prototype,"duration",void 0),r.__decorate([i.observable],d.prototype,"afterDelay",void 0),r.__decorate([i.attr({attribute:"is-hidden"})],d.prototype,"isHidden",void 0),r.__decorate([i.attr],d.prototype,"density",void 0),r.__decorate([i.attr({attribute:"announce",mode:"boolean"})],d.prototype,"announce",void 0),r.__decorate([i.attr({attribute:"hide-close-button",mode:"boolean"})],d.prototype,"hideCloseButton",void 0);exports.default=()=>(e.default(),t.SafButton(),o.default(),d.define({name:a.getComponentName("saf-alert"),template:i.html`
	${a=>a.duration>0?a.close(a.duration):""}
	<div
		density="${a=>a.density}"
		class="control ${a=>"toast"===a.alertType?"toast":"inline"}"
		part="control"
		aria-hidden="${a=>a.isHidden}"
	>
		<saf-icon
			class="alert-icon"
			id="alert-icon"
			part="alert-icon"
			color=${a=>a.icon.color}
			icon-name=${a=>a.icon.iconName}
			appearance="solid"
			aria-label="${a=>a.iconAriaLabelComputed}"
			presentation="${a=>a.iconPresentation}"
			size="16"
		></saf-icon>
		<div class="content" part="content">
			<slot></slot>
			<slot name="link" aria-live="off"></slot>
		</div>

		${l.when(a=>!a.hideCloseButton,i.html`<saf-button
				nested-item
				id="closes"
				a11y-aria-label="${a=>{var t;return null!==(t=a.closeAriaLabel)&&void 0!==t?t:"Close alert"}}"
				class="alert-btn"
				part="alert-btn"
				icon-only=""
				appearance="tertiary"
				@click="${a=>a.close(-1)}"
			>
				<saf-icon icon-name="xmark-large"></saf-icon>
			</saf-button>`)}
	</div>
`,styles:i.css`
	${a.replaceComponentNamesWithSafAttribute(':host{color:var(--saf-color-text-heavy);display:block}:host([density=standard]){--saf-density: 0}:host([density=compact]){--saf-density: 1}:host([density=""]){--saf-density: 2}.control{align-items:flex-start;animation:fadein .25s;border-radius:var(--saf-border-radius-xs);border-style:solid;border-width:var(--saf-line-width-thin);display:flex;flex:1 0 0;font:var(--saf-alert-font, var(--saf-type-body-default-md-regular-standard));gap:var(--saf-spacing-2);padding:var(--saf-alert-control-padding, var(--saf-spacing-2) var(--saf-spacing-4))}.control .alert-btn{flex:none}@keyframes fadein{from{opacity:0}to{opacity:1}}:host(.closing) .control{opacity:0;transition:.25s;visibility:hidden}:host([alert-type=inline][is-hidden=true]) .control{left:-9999px;position:absolute}.content{align-items:flex-start;align-self:center;display:flex;flex:1 0 0;flex-wrap:wrap;gap:var(--saf-spacing-4);min-width:140px;padding:var(--saf-alert-content-padding, var(--saf-spacing-2) 0);place-content:flex-start space-between}@media(width >= 432px){.content{flex-wrap:nowrap;gap:var(--saf-spacing-4)}}::slotted([slot=link]){display:flex;min-width:min-content}:host([appearance=informational]) .control{background-color:var(--saf-color-status-information-subtle);border-color:var(--saf-color-status-information-strong)}:host([appearance=success]) .control{background-color:var(--saf-color-status-success-subtle);border-color:var(--saf-color-status-success-strong)}:host([appearance=warning]) .control{background-color:var(--saf-color-status-warning-subtle);border-color:var(--saf-color-status-warning-strong)}:host([appearance=error]) .control{background-color:var(--saf-color-status-error-subtle);border-color:var(--saf-color-status-error-strong)}:host([appearance=neutral]) .control{background-color:var(--saf-color-status-neutral-subtle);border-color:var(--saf-color-status-neutral-strong)}:host([alert-type=toast]){left:50%;max-width:90%;position:fixed;top:10px;transform:translate(-50%, 0);width:max-content;z-index:var(--saf-z-index-alert-toast)}:host([alert-type=toast]) .control{box-shadow:var(--saf-drop-shadow-level-2)}.alert-icon{align-items:center;display:flex;flex-direction:column;flex-shrink:0;height:var(--saf-alert-icon-height, 42px);justify-content:center}@container style(--saf-density: 0){.control{--saf-alert-font: var(--saf-type-body-default-md-regular-standard);--saf-alert-control-padding: var(--saf-spacing-2) var(--saf-spacing-4)}.content{--saf-alert-content-padding: var(--saf-spacing-2) 0}.alert-icon{--saf-alert-icon-height: 42px}}@container style(--saf-density: 1){.control{--saf-alert-font: var(--saf-type-body-default-md-regular-compact);--saf-alert-control-padding: var(--saf-spacing-2) var(--saf-spacing-3)}.content{--saf-alert-content-padding: var(--saf-spacing-1) 0}.alert-icon{--saf-alert-icon-height: 34px}}@supports(-moz-appearance: none) or (stroke-color: transparent){.control{--saf-conditional-line-height:calc(var(--saf-line-height-lg)*(1 - var(--saf-density))*(2 - var(--saf-density))*.5 + var(--saf-line-height-md)*var(--saf-density)*(2 - var(--saf-density)));--saf-alert-font: var(--saf-font-weight-regular) var(--saf-font-size-md) / var(--saf-conditional-line-height) var(--saf-font-family-source-sans-3);--saf-conditional-padding-block:calc(var(--saf-spacing-2)*(1 - var(--saf-density))*(2 - var(--saf-density))*.5 + var(--saf-spacing-2)*var(--saf-density)*(2 - var(--saf-density)));--saf-conditional-padding-inline:calc(var(--saf-spacing-4)*(1 - var(--saf-density))*(2 - var(--saf-density))*.5 + var(--saf-spacing-3)*var(--saf-density)*(2 - var(--saf-density)));--saf-alert-control-padding: var(--saf-conditional-padding-block) var(--saf-conditional-padding-inline)}.content{--saf-conditional-padding-block:calc(var(--saf-spacing-2)*(1 - var(--saf-density))*(2 - var(--saf-density))*.5 + var(--saf-spacing-1)*var(--saf-density)*(2 - var(--saf-density)));--saf-alert-content-padding: var(--saf-conditional-padding-block) 0}.alert-icon{--saf-conditional-height:calc(42px*(1 - var(--saf-density))*(2 - var(--saf-density))*.5 + 34px*var(--saf-density)*(2 - var(--saf-density)));--saf-alert-icon-height: var(--saf-conditional-height)}}')}
`,registry:a.getRegistry()})),exports.safAlertConfig={events:{onClose:"close"}};
